!function(e){var t={};function o(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){e.exports=jQuery},function(e,t,o){"use strict";const n=o(0),a=o(2),s=o(3),i=o(4),c=o(5),r=o(6);n((function(){new a,new s,new i,new c,new r}))},function(e,t,o){"use strict";const n=o(0);e.exports=class{constructor(e){"ontouchstart"in window||document.documentElement.classList.add("no-touch"),"ontouchstart"in window&&document.documentElement.classList.add("is-touch"),(document.documentMode||/Edge/.test(navigator.userAgent))&&(-1===navigator.appVersion.indexOf("Trident")?document.documentElement.classList.add("isEDGE"):n("html").addClass("isIE isIE11")),(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString())&&document.body.classList.add("browser-safari"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("darkmode"),"localhost"==window.location.hostname|"127.0.0.1"==window.location.hostname&&document.body.classList.add("localhost"),n(document).ready((function(){n("body").addClass("page-loaded")})),setTimeout((function(){n("body").addClass("page-loaded")}),5e3)}}},function(e,t,o){"use strict";e.exports=class{constructor(e){this.events()}events(){var e,t,o,n=document.querySelectorAll("*[data-animate-in], *[data-detect-viewport]"),a=window.pageYOffset;function s(e){var t=e.getBoundingClientRect(),o=t.top,n=t.top+e.offsetHeight;return o<a+window.innerHeight&&n>0}function i(){for(var e=0;e<n.length;e++)s(n[e])&&(n[e].classList.contains("in-view")||n[e].classList.add("in-view"))}window.addEventListener("scroll",(e=i,t=200,o=Date.now(),function(){o+t-Date.now()<0&&(e(),o=Date.now())})),window.addEventListener("resize",i);for(var c=0;c<n.length;c++){var r=0,l=n[c];r=n[c].getAttribute("data-animate-in-delay")?n[c].getAttribute("data-animate-in-delay")/1e3+"s":0,l.style.transitionDelay=r}i()}}},function(e,t,o){"use strict";const n=o(0);e.exports=class{constructor(e){this.defaults={},this.settings=n.extend(!0,{},this.defaults,e),n("#bot").length&&this.setup()}setup(){const e=n(".category"),t=n(".object-group"),o=n(".arrow-next"),a=n(".arrow-prev");const s=n(".objects-wrap");e.click((function(){let o=n(this),a=o.attr("data-category"),i=n(".object-group[data-objects="+a+"]");e.removeClass("is-active"),o.addClass("is-active"),t.removeClass("is-active"),i.addClass("is-active"),s.animate({scrollLeft:0},0)})),o.click((function(){var e=s.prop("scrollWidth");let t=s.scrollLeft()+(n("#objects").width()-100);t>e&&(t=e-10),s.animate({scrollLeft:t},800)})),a.click((function(){let e=s.scrollLeft()-(n("#objects").width()-100);e<0&&(e=0),s.animate({scrollLeft:e},800)}))}}},function(e,t,o){"use strict";const n=o(0);e.exports=class{constructor(e){this.defaults={},this.settings=n.extend(!0,{},this.defaults,e),n("#bot").length&&this.setup()}setup(){const e=n("#bot"),t=n(".object");n(document).ready((function(){n(".object svg *[id]").each((function(){let e=n(this),t=e.attr("id"),o=e.parents(".object"),a=o.attr("data-object-title");a=a+"-"+t,e.attr("id",a);let s="url(#"+a+")";o.find('*[fill="url(#'+t+')"]').each((function(){n(this).attr("fill",s)}))})),n(".object--default").each((function(){n(this).click()}))})),t.click((function(){let t=n(this),o=t.parents(".object-group"),a=o.attr("data-objects"),s=t.attr("data-holder"),i=t.attr("data-object-title");if(s=n("#"+s),t.hasClass("is-active"))s.empty(),t.removeClass("is-active"),o.hasClass("has-default")&&o.find(".object.object--default").click(),t.hasClass("hide-antenna")&&e.removeClass("hide-antenna");else{o.find(".object.is-active").removeClass("is-active"),s.empty(),t.addClass("is-active");let n=t.find("svg > g");n.addClass(i);let c=n.clone();s.append(c),"headgear"==a&&(t.hasClass("hide-antenna")?e.addClass("hide-antenna"):e.removeClass("hide-antenna"))}}))}}},function(e,t,o){"use strict";const n=o(0);e.exports=class{constructor(e){this.defaults={},this.settings=n.extend(!0,{},this.defaults,e),n("#bot").length&&this.setup()}setup(){const e=n("#download-file"),t=n("#share-on-twitter"),o=n("#share-modal"),a=n("body"),s=n(".js-toggle-share"),i=(n("#terms-label"),n("#terms"));let c=localStorage.getItem("modthebotterms");function r(e,t,o,a){[].forEach.call(document.querySelectorAll(e),(function(e){try{let d=n("#antenna-holder"),m=n("#antenna-holder").html();var a;n("#bot").hasClass("hide-antenna")&&d.empty();var s=document.getElementById("img"),i=document.getElementById("bot"),c=document.getElementById("canvas"),r=c.getContext("2d");c.setAttribute("width",2e3),c.setAttribute("height",2e3),s.src=u(i);var l=s.src;(a=new Image).width=2e3,a.height=2e3;a.onload=function(){if(r.fillStyle="rgba(255, 255, 255, 0)",r.fillRect(0,0,canvas.width,canvas.height),r.drawImage(a,0,0,2e3,2e3),o){s.src=c.toDataURL();var e=document.createElement("a");e.download="my-dotnet-bot-mod.png",e.href=s.src,document.body.appendChild(e),e.click()}l=(new XMLSerializer).serializeToString(document.getElementById("bot"));window.btoa(l);s.src=c.toDataURL();var n=s.src;n=s.src.split("data:image/png;base64,").pop(),document.getElementById("image-file").value=n,t(),document.getElementById("tweetPreviewImg").src=u(i)},a.src=i?u(i):e.getAttribute("data-svgSource"),n("#bot").hasClass("hide-antenna")&&d.html(m)}catch(e){console.log(e)}}))}function l(){console.log("download image")}function d(){console.log("tweet image"),n("#tweet-preview").removeClass("d-none")}function u(e){var t=(new XMLSerializer).serializeToString(e);return"data:image/svg+xml,"+encodeURIComponent(t)}n(document).ready((function(){"true"==c&&(i.prop("checked",!0),t.removeAttr("disabled"),e.removeAttr("disabled"))})),i.change((function(){n(this).is(":checked")?(console.log("check"),localStorage.setItem("modthebotterms","true"),t.removeAttr("disabled"),e.removeAttr("disabled")):(console.log("uncheck"),localStorage.setItem("modthebotterms","false"),t.attr("disabled","disabled"),e.attr("disabled","disabled"))})),s.click((function(e){e.preventDefault(),o.hasClass("is-active")?(o.removeClass("is-active"),a.removeClass("modal-is-active")):(o.addClass("is-active"),a.addClass("modal-is-active"))})),e.click((function(e){e.preventDefault(),r("#bot",l,!0,!1)})),t.click((function(e){e.preventDefault(),r("#bot",d,!1,!1)})),n("#tweet").click((function(){!function(){console.log("start tweet process"),n("#tweet-preview").removeClass("d-none");document.getElementById("share-on-twitter");var e=document.getElementById("twitter-image").value;TweenMax.to(svgMaskLoad,10,{scaleY:.3,transformOrigin:"top center",ease:Power4.easeOut}).delay(.4),exportModal.classList.add("posting");window.fetch("https://create-dotnet-bot.azurewebsites.net/api/auth",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify({media_id:e})}).then(e=>e.json()).then(t=>{console.log("el response = "+JSON.stringify(t.success)),console.log("Admin authorized, now authorizing user");var o=t.success.oauth_token,n="https://twitter.com/oauth/authenticate?oauth_token="+o,a=window.location.origin+"/close";loginWindow.location.href=n;var s=setInterval((function(){var e="Checking for tokens...";console.log("Sending message: "+e),loginWindow.postMessage(e,a)}),2e3);window.addEventListener("message",(function(n){var a,i;console.log("Response from child:  ",n.data),n.data[0]===o?(console.log("Tokens match"),clearInterval(s),loginWindow.close(),a=n.data[0],i=n.data[1],exportModal.classList.add("previewing"),document.getElementById("tweet").onclick=function(o){o.preventDefault();var n=document.getElementById("tweet-text").value;!function(o,n,a){exportModal.classList.remove("previewing"),window.fetch("https://create-dotnet-bot.azurewebsites.net/api/tweet",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json"},body:JSON.stringify({oauth_token:o,oauth_token_secret:t.success.oauth_token_secret,oauth_verifier:n,media_id:e,tweetText:a})}).then(e=>e.json()).then(e=>{console.log("++++++++++++++++++"),console.log("response = "+JSON.stringify(e.success)),console.log("response = "+JSON.stringify(e.msg)),console.log("++++++++++++++++++"),!0===e.success?(TweenMax.to(svgMaskLoad,2,{scaleY:0,transformOrigin:"top center",ease:Power0.easeNone}).delay(1.4),setTimeout((function(){exportModal.classList.remove("posting"),exportModal.classList.add("completed"),sendToAws(!1),TweenMax.to(svgMaskLoad,1,{scaleY:1}).delay(1),e.url,e.params}),2300)):setTimeout((function(){console.log("There was an issue"),exportModal.classList.remove("posting"),exportModal.classList.add("error")}),4300)})}(a,i,n)}):(clearInterval(s),loginWindow.close(),exportModal.classList.remove("posting"),exportModal.classList.add("error"))}),!1)})}()}));const m=document.getElementById("tweet-text"),f=document.getElementById("tweet-text-count");let g=function(e){let t=m.value.length;f.innerHTML=t};g(),m.addEventListener("keydown",g,!1),m.addEventListener("keyup",g,!1),m.addEventListener("change",g,!1)}}}]);